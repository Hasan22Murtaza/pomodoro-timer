<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Timer</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5 text-center">
        <h1>Pomodoro Timer</h1>
        <p class="lead">Stay productive with the Pomodoro technique.</p>
        <div class="mt-4">
            <div id="timer" class="display-4">25:00</div>
            <button id="startButton" class="btn btn-primary btn-lg mt-3">Start</button>
            <button id="resetButton" class="btn btn-danger btn-lg mt-3">Reset</button>
            <button id="deleteButton" class="btn btn-warning btn-lg mt-3">Delete Session</button>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let timerInterval;
        let timeLeft = sessionStorage.getItem('pomodoroTime') ? parseInt(sessionStorage.getItem('pomodoroTime')) : 25 * 60; // 25 minutes in seconds

        const timerDisplay = document.getElementById('timer');
        const startButton = document.getElementById('startButton');
        const resetButton = document.getElementById('resetButton');
        const deleteButton = document.getElementById('deleteButton');

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function startTimer() {
            if (timerInterval) return; // Prevent multiple intervals

            timerInterval = setInterval(() => {
                if (timeLeft > 0) {
                    timeLeft--;
                    sessionStorage.setItem('pomodoroTime', timeLeft);
                    updateTimerDisplay();
                } else {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    alert('Time is up!');
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            timeLeft = 25 * 60;
            sessionStorage.setItem('pomodoroTime', timeLeft);
            updateTimerDisplay();
        }

        function deleteSession() {
            clearInterval(timerInterval);
            timerInterval = null;
            sessionStorage.removeItem('pomodoroTime');
            timeLeft = 25 * 60;
            updateTimerDisplay();
        }

        startButton.addEventListener('click', startTimer);
        resetButton.addEventListener('click', resetTimer);
        deleteButton.addEventListener('click', deleteSession);

        updateTimerDisplay();
    </script>
</body>
</html>